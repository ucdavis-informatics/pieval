# Open TODO's

Goal: convert pieval to run against mongo rather than SQL database

Steps:
1. gain experience with a mongo container such that
    - we can connect and establish new collections/documents
    - all fake data reflected in mongo collections/docs
1. wire up app to use mongo
    - projects collection to drive

---
## Mongo Container

see [Mongo Docs](mongo_container.md)


---
## Proposed Collections

### Users Collection
{
    "_id":<autogenerated>,
    "user_name":"repeat of _id",
    "print_name":"Name thats printed to the screen when this user logs in",
    "user_email":"Email associated with this user.  May be used to bug them to perform annoations",
}

### Projects collection
{   
    "_id":"project_name" # guarantees unique project names
    "project_name":"Name of project",
    "project_description":"Description of project",
    "project_data_type":['text','image'],
    "project_mode":['multiclass','binary'],
    "project_classes":['one class', 'two class', 'etc..'],
    "project_users":['user 1', 'user 2', 'user 3'],
    "project_data_collection":"collection name"
}

### Project Data Collection
{
    "_id": "project_name_example_id - project name and example id concatenated together.  Ensures unique records in project namespace",
    "example_id":"Numeric value indicating how many examples there are for this annotation project.  Also used for ordering presentation if required",
    "source_id":"Link back to source data system note_csn_id or order_proc_id",
    "presented_data":"Could be an enriched block of text OR the full text",
    "data_ext":"The full text of the note",
    "prompt":"The challenge to which the annotator must respond",
    "response_time":"Datetime response was recorded from the user",
    "user_name":"Username of the annotator.  Tehcnically this gets pulled from auth header - value of REMOTE_USER",
    "user_ip":"IP address from which the user annotated the document",
    "response":"The users response",
    "context_viewed":["yes","no"]
}